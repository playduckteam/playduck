<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">

<mapper namespace="buy-mapper">


<select id="selectBuyList" resultType="buy" parameterType="Member" >
select O.O_NO,O.O_QUAN,O.O_DATE, MD.D_TITLE, MD.D_PRICE,MD.D_PIC, (D_PRICE - W_DOWN+2500)TOTAL ,R.W_DOWN from orders O
join reward R ON(O.W_NO = R.W_NO)
JOIN MD ON(MD.D_NO = O.D_NO)
WHERE O.M_NO = #{m_no}
</select>

<select id="selectTotalContents" resultType="_int">
SELECT COUNT(*) FROM ORDERS
</select>

<delete id="buyCancel" parameterType="_int">
	DELETE FROM ORDERS WHERE O_NO = #{O_NO}
</delete>
</mapper>

